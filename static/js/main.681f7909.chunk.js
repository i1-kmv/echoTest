(this.webpackJsonpechoTest=this.webpackJsonpechoTest||[]).push([[0],{101:function(e,t,r){},102:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),s=r(15),o=r.n(s),i=(r(76),r(3)),a=r(2),u=function(e){return Object(a.jsx)("input",Object(i.a)({className:"".concat(e.className," input "),type:e.type,placeholder:e.placeholder},e.formikProps))},j=function(e){return Object(a.jsx)("button",{className:"".concat(e.className," button"),type:"submit",children:e.title})},l=r(5),b=r(7),m=r(58),O=r.n(m).a.create({baseURL:"someBaseUrl/api"}),f=function(e){return new Promise((function(t,r){"+7 999 999-99-99"===e.phone&&"1234567890"===e.password?t(!0):r("\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!")}))},d=function(e){return new Promise((function(t,r){"+7 999 999-99-99"===e.confirmPhone?t(!0):r("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430")}))},h=function(e){return new Promise((function(t,r){"5555"===e.sms?t(!0):r("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434")}))},p=function(e,t,r,n){return O.post("user/registration",{phone:e,password:t,first_name:r,avatar:n})},v={isLoggedIn:!1,registerMode:!1,isInitialized:!1,passwordRecoveryMode:!1,error:null,authPhone:""},x=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},N=function(e){return{type:"login/SET-REGISTER-MODE",value:e}},g=function(e){return{type:"login/SET-PASSWORD-RECOVERY-MODE",value:e}},S=function(e){return{type:"APP/SET-ERROR",error:e}},E=function(e){return{type:"APP/SET-IS-INITIALIZED",value:e}},k=r(28),y=r(124),_=r(123);function P(e){return Object(a.jsx)(_.a,Object(i.a)({elevation:6,variant:"filled"},e))}function w(){var e=Object(l.c)((function(e){return e.auth.error})),t=Object(l.b)(),r=function(e,r){"clickaway"!==r&&t(S(null))},n=null!==e;return Object(a.jsx)(y.a,{open:n,autoHideDuration:3e3,onClose:r,children:Object(a.jsx)(P,{onClose:r,severity:"error",className:"error",children:e})})}var I={authMode:!1,setNewUserModeAC:!1,user:{phone:"",password:"",first_name:"",avatar:""}},T=function(e){return{type:"register/SET-AUTH-NODE",value:e}},M=function(){var e=Object(k.a)({initialValues:{phone:"",password:""},validate:function(e){var t={};return e.phone||(t.phone="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),e.password||(t.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),t},onSubmit:function(e){var t;s((t=e,function(e){f(t).then((function(t){e(x(!0))})).catch((function(t){e(S(t)),e(E(!0))}))}))}}),t=Object(l.c)((function(e){return e.auth.isLoggedIn})),r=Object(l.c)((function(e){return e.auth.registerMode})),n=Object(l.c)((function(e){return e.auth.passwordRecoveryMode})),c=Object(l.c)((function(e){return e.auth.isInitialized})),s=Object(l.b)();return t?Object(a.jsx)(b.a,{to:"/cabinet"}):r?Object(a.jsx)(b.a,{to:"/registration"}):n?Object(a.jsx)(b.a,{to:"/recovery"}):Object(a.jsxs)("form",{className:"auth-form form",onSubmit:e.handleSubmit,children:[c&&Object(a.jsx)(w,{}),Object(a.jsxs)("div",{className:"auth-form__inputs inputs",children:[e.errors.phone?Object(a.jsx)("div",{className:"formik",children:e.errors.phone}):null,Object(a.jsx)(u,{className:"auth-form__inputs-item input",type:"text",name:"phone",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",formikProps:Object(i.a)({},e.getFieldProps("phone"))}),e.errors.password?Object(a.jsx)("div",{className:"formik",children:e.errors.password}):null,Object(a.jsx)(u,{className:"auth-form__inputs-item input",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",formikProps:Object(i.a)({},e.getFieldProps("password"))})]}),Object(a.jsxs)("div",{className:"auth-form__save",children:[Object(a.jsx)("input",{type:"checkbox"}),Object(a.jsx)("span",{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),Object(a.jsx)(j,{className:"auth-form__button button",title:"\u0412\u043e\u0439\u0442\u0438"}),Object(a.jsxs)("div",{className:"auth-form__links links",children:[Object(a.jsx)("a",{className:"links-item",onClick:function(){s(g(!0)),s(N(!1)),s(T(!1))},children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(a.jsx)("a",{className:"links-item",onClick:function(){s(N(!0)),s(T(!1)),s(g(!1))},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})},R=(r(101),{phoneConfirm:!1,smsConfirm:!1}),C=function(e){return{type:"confirm/SET-PHONE-CONFIRM",value:e}},D=function(e){return{type:"confirm/SET-SMS-CONFIRM",value:e}},A=function(){var e=Object(k.a)({initialValues:{confirmPhone:""},validate:function(e){var t={};return e.confirmPhone||(t.confirmPhone="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),t},onSubmit:function(e){var t;s((t=e,function(e){console.log(t),d(t).then((function(t){e(C(!0))})).catch((function(t){console.log("reg"),e(E(!0)),e(S(t))}))}))}}),t=Object(l.c)((function(e){return e.auth.registerMode})),r=Object(l.c)((function(e){return e.register.authMode})),n=Object(l.c)((function(e){return e.recovery.phoneConfirm})),c=Object(l.c)((function(e){return e.auth.isInitialized})),s=Object(l.b)();return t?Object(a.jsx)(b.a,{to:"/registration"}):r?Object(a.jsx)(b.a,{to:"/"}):n?Object(a.jsx)(b.a,{to:"/sms"}):Object(a.jsxs)("form",{className:"recovery-form form",onSubmit:e.handleSubmit,children:[c&&Object(a.jsx)(w,{}),Object(a.jsx)("div",{className:"recovery-form__inputs inputs",children:Object(a.jsxs)("div",{className:"formik-input",children:[e.errors.confirmPhone?Object(a.jsx)("div",{className:"formik",children:e.errors.confirmPhone}):null,Object(a.jsx)(u,{className:"recovery-form__inputs-item",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"confirmPhone",formikProps:Object(i.a)({},e.getFieldProps("confirmPhone"))})]})}),Object(a.jsx)(j,{className:"recovery-form__button button",title:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsxs)("div",{className:"recovery-form__links links",children:[Object(a.jsx)("a",{className:"links-item",onClick:function(){s(T(!0)),s(N(!1)),s(g(!1))},children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(a.jsx)("a",{className:"links-item",onClick:function(){s(N(!0)),s(g(!1))},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})},F=function(){var e=Object(k.a)({initialValues:{name:"",phone:"",password:"",avatar:""},validate:function(e){var t={};return e.name||(t.name="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),e.phone||(t.phone="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),e.password||(t.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),t},onSubmit:function(e){var t,r,c,s;n((t=e.phone,r=e.password,c=e.name,s=e.avatar,function(e){p(t,r,c,s).then((function(t){e({type:"register/SET-NEW-USER-NODE",value:!0})})).catch((function(n){e(function(e,t,r,n){return{type:"register/SET-NEW-USER",phone:e,password:t,first_name:r,avatar:n}}(t,r,c,s)),e(S(n))}))})),n(N(!1)),n(x(!0))}}),t=Object(l.c)((function(e){return e.register.authMode})),r=Object(l.c)((function(e){return e.auth.isLoggedIn})),n=Object(l.b)();return t?Object(a.jsx)(b.a,{to:"/"}):r?Object(a.jsx)(b.a,{to:"/cabinet"}):Object(a.jsxs)("form",{className:"registration-form form",onSubmit:e.handleSubmit,children:[Object(a.jsxs)("div",{className:"registration-form__inputs inputs",children:[e.errors.name?Object(a.jsx)("div",{className:"formik",children:e.errors.name}):null,Object(a.jsx)(u,{className:"registration-form__inputs-item",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",name:"name",formikProps:Object(i.a)({},e.getFieldProps("name"))}),e.errors.phone?Object(a.jsx)("div",{className:"formik",children:e.errors.phone}):null,Object(a.jsx)(u,{className:"registration-form__inputs-item",type:"tel",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"phone",formikProps:Object(i.a)({},e.getFieldProps("phone"))}),e.errors.password?Object(a.jsx)("div",{className:"formik",children:e.errors.password}):null,Object(a.jsx)(u,{className:"registration-form__inputs-item",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",formikProps:Object(i.a)({},e.getFieldProps("password"))})]}),Object(a.jsx)("button",{className:"registration-form__button button",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(a.jsx)("div",{className:"registration-form__links links",children:Object(a.jsx)("a",{className:"links-item",onClick:function(){n(T(!0)),n(N(!1))},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})},L=r(21),U=function(){var e=Object(l.b)();Object(n.useEffect)((function(){e(T(!1))}),[]);var t=Object(l.c)((function(e){return e.register.user.first_name}));return Object(l.c)((function(e){return e.register.authMode}))?Object(a.jsx)(b.a,{to:"/"}):Object(a.jsxs)("div",{className:"form person",children:[Object(a.jsx)("div",{children:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c,".concat(t||"\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044c")}),Object(a.jsx)("div",{onClick:function(){e(x(!1)),e(T(!0))},children:Object(a.jsx)(j,{className:"person-button button",title:"\u0412\u044b\u0445\u043e\u0434"})})]})},H=r(63),z=r(122);function G(e){return Object(a.jsx)(_.a,Object(i.a)({elevation:6,variant:"filled"},e))}var V=Object(z.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function W(){V();var e=c.a.useState(!0),t=Object(H.a)(e,2),r=t[0],n=t[1],s=function(e,t){"clickaway"!==t&&n(!1)};return Object(a.jsx)(y.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:2e4,onClose:s,children:Object(a.jsx)(G,{onClose:s,severity:"info",children:"Your SMS code: 5555"})})}var Y=function(){var e=Object(k.a)({initialValues:{sms:""},validate:function(e){var t={};return e.sms||(t.sms="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"),t},onSubmit:function(e){var t;s((t=e,function(e){h(t).then((function(t){e(D(!0))})).catch((function(t){e(E(!0)),e(S(t))}))}))}}),t=Object(l.c)((function(e){return e.auth.registerMode})),r=Object(l.c)((function(e){return e.register.authMode})),n=Object(l.c)((function(e){return e.recovery.smsConfirm})),c=Object(l.c)((function(e){return e.auth.isInitialized})),s=Object(l.b)();return t?Object(a.jsx)(b.a,{to:"/registration"}):r?Object(a.jsx)(b.a,{to:"/"}):n?Object(a.jsx)(b.a,{to:"/password"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"recovery-form form",onSubmit:e.handleSubmit,children:[c&&Object(a.jsx)(w,{}),Object(a.jsx)("div",{className:"recovery-form__inputs inputs",children:Object(a.jsxs)("div",{className:"formik-input",children:[e.errors.sms?Object(a.jsx)("div",{className:"formik",children:e.errors.sms}):null,Object(a.jsx)(u,{className:"recovery-form__inputs-item",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0441\u043c\u0441",name:"sms",formikProps:Object(i.a)({},e.getFieldProps("sms"))})]})}),Object(a.jsx)(j,{className:"recovery-form__button button",title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434"}),Object(a.jsxs)("div",{className:"recovery-form__links links",children:[Object(a.jsx)("a",{className:"links-item",onClick:function(){s(C(!1)),s(N(!1)),s(g(!1)),s(D(!1)),s(T(!0))},children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(a.jsx)("a",{className:"links-item",onClick:function(){s(g(!1)),s(D(!1)),s(T(!1)),s(N(!0))},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]}),Object(a.jsx)(W,{})]})},B=function(){var e=Object(l.c)((function(e){return e.auth.registerMode})),t=Object(l.c)((function(e){return e.register.authMode})),r=Object(l.b)();return e?Object(a.jsx)(b.a,{to:"/registration"}):t?Object(a.jsx)(b.a,{to:"/"}):Object(a.jsxs)("form",{className:"form",children:[Object(a.jsxs)("div",{className:"form-confirm",children:[" \u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c: ",Object(a.jsx)("b",{children:"1234567890"})]}),Object(a.jsx)("div",{className:"links",children:Object(a.jsx)("a",{className:"links-item",onClick:function(){r(T(!0)),r(N(!1)),r(g(!1)),r(D(!1))},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})};var J=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(L.b,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(M,{})}}),Object(a.jsx)(b.b,{path:"/registration",render:function(){return Object(a.jsx)(F,{})}}),Object(a.jsx)(b.b,{path:"/recovery",render:function(){return Object(a.jsx)(A,{})}}),Object(a.jsx)(b.b,{path:"/cabinet",render:function(){return Object(a.jsx)(U,{})}}),Object(a.jsx)(b.b,{path:"/sms",render:function(){return Object(a.jsx)(Y,{})}}),Object(a.jsx)(b.b,{path:"/password",render:function(){return Object(a.jsx)(B,{})}})]})})})},Z=r(43),q=r(62),K=Object(Z.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});case"login/SET-IS-LOGGED-IN":return Object(i.a)(Object(i.a)({},e),{},{isLoggedIn:t.value});case"login/SET-REGISTER-MODE":return Object(i.a)(Object(i.a)({},e),{},{registerMode:t.value});case"login/SET-PASSWORD-RECOVERY-MODE":return Object(i.a)(Object(i.a)({},e),{},{passwordRecoveryMode:t.value});case"APP/SET-IS-INITIALIZED":return Object(i.a)(Object(i.a)({},e),{},{isInitialized:t.value});case"APP/SET-AUTH-PHONE":return Object(i.a)(Object(i.a)({},e),{},{authPhone:t.value});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-AUTH-NODE":return Object(i.a)(Object(i.a)({},e),{},{authMode:t.value});case"register/SET-NEW-USER":return Object(i.a)(Object(i.a)({},e),{},{user:{phone:t.phone,password:t.password,first_name:t.first_name,avatar:t.avatar}});default:return e}},recovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"confirm/SET-PHONE-CONFIRM":return Object(i.a)(Object(i.a)({},e),{},{phoneConfirm:t.value});case"confirm/SET-SMS-CONFIRM":return Object(i.a)(Object(i.a)({},e),{},{smsConfirm:t.value});default:return e}}}),Q=Object(Z.c)(K,Object(Z.a)(q.a));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(L.a,{children:Object(a.jsx)(l.a,{store:Q,children:Object(a.jsx)(J,{})})})}),document.getElementById("root"))},76:function(e,t,r){}},[[102,1,2]]]);
//# sourceMappingURL=main.681f7909.chunk.js.map